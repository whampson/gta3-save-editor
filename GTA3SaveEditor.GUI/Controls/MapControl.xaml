<UserControl
    x:Class="GTA3SaveEditor.GUI.Controls.MapControl"
    xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
    xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006" 
    xmlns:d="http://schemas.microsoft.com/expression/blend/2008" 
    xmlns:l="clr-namespace:GTA3SaveEditor.GUI.Controls"
    mc:Ignorable="d" 
    Loaded="MapControl_Loaded">

    <Border
        x:Name="m_border"
        ClipToBounds="True"
        MouseDown="MapControl_MouseDown"
        MouseUp="MapControl_MouseUp"
        MouseMove="MapControl_MouseMove"
        MouseWheel="MapControl_MouseWheel"
        Background="{Binding Background}"
        Cursor="{Binding Cursor}"
        DataContext="{Binding RelativeSource={RelativeSource Mode=FindAncestor, AncestorType=l:MapControl}}">

        <Canvas x:Name="m_canvas">
            <Canvas.RenderTransform>
                <MatrixTransform Matrix="{Binding RenderMatrix}"/>
            </Canvas.RenderTransform>
            <Image x:Name="m_image" Source="{Binding Image}"/>
        </Canvas>
        
    </Border>

</UserControl>
